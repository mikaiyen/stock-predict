
---

# 股票技術分析輔助程式

本專案透過擷取證交所公開資料，結合技術指標與 K 棒型態辨識，為投資者提供股價走勢預測及交易參考建議。程式分為「股價預測 (LSTM)」與「K 棒型態辨識」兩大部分。

## 1. 專案架構與目的

1. **股價預測 (LSTM 模型)**  
   - 從證交所網站自動爬取指定標的（預設為台積電 2013–2022 年間的股票資料）。  
   - 整理每日收盤價、成交量、法人買賣超等特徵，並產出多維度時序資料。  
   - 以 LSTM 模型訓練並預測該股未來若干日的走勢，供投資者作為參考。

2. **K 棒型態辨識**  
   - 參考國內外財金文獻常見的 K 棒型態與交易策略，對歷史資料進行統計歸納。  
   - 辨識指定股價在不同時間週期（短線、波段、長線）是否符合特定 K 棒型態，並評估型態出現後對後市的影響。

透過上述兩部分，投資者可同時掌握機器學習預測結果與傳統技術分析建議，以做更全面的投資決策。

---

## 2. 實現方式與流程

1. **資料爬取與前處理**  
   - 使用 Python 連線至證交所開放資料來源，自動下載目標股票的歷史交易資訊 (日期、開高收低、成交量、法人買賣超) 等。  
   - 篩選並整理需要的欄位，例如對於 LSTM 訓練常用的收盤價、移動平均、成交量等等。  
   - 若需要結合其他來源資料 (如新聞情緒、總體經濟指標)，亦可在此階段納入並同步對齊時間序列。

2. **技術指標與資料增強**  
   - 計算技術指標 (MA、MACD、RSI、KD、布林通道…等)，整合至特徵向量中。  
   - 針對資料不平衡或缺漏值（例如特定日期停牌）時，做適度填補或移除處理。

3. **LSTM 股價預測模型**  
   - 將整理好的時序資料 (收盤價、技術指標、法人資金動向…) 以「前 N 天預測未來 1〜M 天」之形式產生訓練樣本。  
   - 使用 PyTorch / TensorFlow 建構 LSTM 或 GRU 模型：  
     1. 多層 LSTM/GRU 隱藏層  
     2. 全連接層作最終輸出  
   - 設定學習率、batch size、epochs 等超參數並執行訓練，最後得到預測模型。  

4. **K 棒型態辨識**  
   - 依照論文或實務常見的 K 棒型態（例：十字線、貪婪 K、黃金交叉…）定義演算法。  
   - 在指定時間週期（短線、波段、長線）內比對當前股價結構與 K 棒理論。  
   - 計算各型態的出現機率、成功率，並給予投資建議（如買進、觀望、賣出）。

5. **結果與使用者介面**  
   - 當使用者輸入「股票代號」與「預測區間」等參數，程式自動：  
     1. 下載或讀取歷史資料  
     2. 執行 LSTM 走勢預測  
     3. 分析當前是否符合特定 K 棒型態  
     4. 輸出預測曲線、型態檢測結果與投資建議  

---

## 3. 主要功能

1. **歷史股價爬取**  
   - 自動化爬蟲，定期更新或一次性下載過往資料。  
2. **資料前處理與技術指標計算**  
   - 一鍵輸入股票代碼，即可產生多種技術指標。  
3. **LSTM 模型訓練與預測**  
   - 以多維時序輸入預測未來股價走勢，支援參數化設定 (隱藏層單元數、序列長度、損失函數…等)。  
4. **K 棒型態辨識**  
   - 檢測近期是否出現如「黃金交叉」、「吞噬形態」、「黃昏之星」等訊號。  
5. **結果可視化**  
   - 以 Matplotlib / Plotly 生成走勢圖、型態疊加圖，幫助使用者快速判讀。

---

## 4. 後續發展

- **擴充更多特徵**：可考慮加入總體經濟指標、財報資訊、新聞情緒等。  
- **更複雜模型**：如 Transformer-based 時序預測、強化學習交易策略等。  

---
